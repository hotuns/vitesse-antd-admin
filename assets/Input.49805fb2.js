import{P as r,d as V,t as w,c as f,b as v,_ as d,e as _,$ as C,a2 as y,G as h,I as F,J as z,a5 as x,aa as L,a8 as W,Q as O,a3 as S,S as $}from"./index.547a7a52.js";import{a as K}from"./index.336e0858.js";var R={prefixCls:r.string,inputPrefixCls:r.string,defaultValue:r.oneOfType([r.string,r.number]),value:r.oneOfType([r.string,r.number]),placeholder:{type:[String,Number]},type:r.string.def("text"),name:r.string,size:{type:String},disabled:r.looseBool,readonly:r.looseBool,addonBefore:r.VNodeChild,addonAfter:r.VNodeChild,prefix:r.VNodeChild,suffix:r.VNodeChild,autofocus:r.looseBool,allowClear:r.looseBool,lazy:r.looseBool.def(!0),maxlength:r.number,loading:r.looseBool,onPressEnter:r.func,onKeydown:r.func,onKeyup:r.func,onFocus:r.func,onBlur:r.func,onChange:r.func,onInput:r.func,"onUpdate:value":r.func};function k(t){return!!(C(t,"prefix")||C(t,"suffix")||t.$props.allowClear)}var B=["text","input"],D=V({name:"ClearableLabeledInput",inheritAttrs:!1,props:{prefixCls:r.string,inputType:r.oneOf(w("text","input")),value:r.any,defaultValue:r.any,allowClear:r.looseBool,element:r.VNodeChild,handleReset:r.func,disabled:r.looseBool,size:r.oneOf(w("small","large","default")),suffix:r.VNodeChild,prefix:r.VNodeChild,addonBefore:r.VNodeChild,addonAfter:r.VNodeChild,readonly:r.looseBool,isFocused:r.looseBool},methods:{renderClearIcon:function(e){var a=this.$props,n=a.allowClear,s=a.value,o=a.disabled,i=a.readonly,l=a.inputType,u=a.handleReset;if(!n)return null;var p=!o&&!i&&s!==void 0&&s!==null&&s!=="",c=l===B[0]?"".concat(e,"-textarea-clear-icon"):"".concat(e,"-clear-icon");return f(_,{onClick:u,class:v(c,d({},"".concat(c,"-hidden"),!p)),role:"button"},null)},renderSuffix:function(e){var a=this.$props,n=a.suffix,s=a.allowClear;return n||s?f("span",{class:"".concat(e,"-suffix")},[this.renderClearIcon(e),n]):null},renderLabeledIcon:function(e,a){var n,s,o=this.$props,i=this.$attrs.style,l=this.renderSuffix(e);if(!k(this))return y(a,{value:o.value});var u=o.prefix?f("span",{class:"".concat(e,"-prefix")},[o.prefix]):null,p=v((s=this.$attrs)===null||s===void 0?void 0:s.class,"".concat(e,"-affix-wrapper"),(n={},d(n,"".concat(e,"-affix-wrapper-focused"),o.isFocused),d(n,"".concat(e,"-affix-wrapper-disabled"),o.disabled),d(n,"".concat(e,"-affix-wrapper-sm"),o.size==="small"),d(n,"".concat(e,"-affix-wrapper-lg"),o.size==="large"),d(n,"".concat(e,"-affix-wrapper-input-with-clear-btn"),o.suffix&&o.allowClear&&this.$props.value),n));return f("span",{class:p,style:i},[u,y(a,{style:null,value:o.value,class:A(e,o.size,o.disabled)}),l])},renderInputWithLabel:function(e,a){var n,s=this.$props,o=s.addonBefore,i=s.addonAfter,l=s.size,u=this.$attrs,p=u.style,c=u.class;if(!o&&!i)return a;var m="".concat(e,"-group"),g="".concat(m,"-addon"),b=o?f("span",{class:g},[o]):null,I=i?f("span",{class:g},[i]):null,N=v("".concat(e,"-wrapper"),d({},m,o||i)),T=v(c,"".concat(e,"-group-wrapper"),(n={},d(n,"".concat(e,"-group-wrapper-sm"),l==="small"),d(n,"".concat(e,"-group-wrapper-lg"),l==="large"),n));return f("span",{class:T,style:p},[f("span",{class:N},[b,y(a,{style:null}),I])])},renderTextAreaWithClearIcon:function(e,a){var n=this.$props,s=n.value,o=n.allowClear,i=this.$attrs,l=i.style,u=i.class;if(!o)return y(a,{value:s});var p=v(u,"".concat(e,"-affix-wrapper"),"".concat(e,"-affix-wrapper-textarea-with-clear-btn"));return f("span",{class:p,style:l},[y(a,{style:null,value:s}),this.renderClearIcon(e)])},renderClearableLabeledInput:function(){var e=this.$props,a=e.prefixCls,n=e.inputType,s=e.element;return n===B[0]?this.renderTextAreaWithClearIcon(a,s):this.renderInputWithLabel(a,this.renderLabeledIcon(a,s))}},render:function(){return this.renderClearableLabeledInput()}}),j=D;function U(t){return typeof t=="undefined"||t===null?"":t}function P(t,e,a){if(a){var n=e;if(e.type==="click"){Object.defineProperty(n,"target",{writable:!0}),Object.defineProperty(n,"currentTarget",{writable:!0}),n.target=t,n.currentTarget=t;var s=t.value;t.value="",a(n),t.value=s;return}a(n)}}function A(t,e,a){var n;return v(t,(n={},d(n,"".concat(t,"-sm"),e==="small"),d(n,"".concat(t,"-lg"),e==="large"),d(n,"".concat(t,"-disabled"),a),n))}var J=V({name:"AInput",inheritAttrs:!1,props:h({},R),setup:function(){return{configProvider:F("configProvider",z),removePasswordTimeout:void 0,input:null,clearableInput:null}},data:function(){var e=this.$props,a=typeof e.value=="undefined"?e.defaultValue:e.value;return{stateValue:typeof a=="undefined"?"":a,isFocused:!1}},watch:{value:function(e){this.stateValue=e}},mounted:function(){var e=this;x(function(){e.clearPasswordValueAttribute()})},beforeUnmount:function(){this.removePasswordTimeout&&clearTimeout(this.removePasswordTimeout)},methods:{handleInputFocus:function(e){this.isFocused=!0,this.onFocus&&this.onFocus(e)},handleInputBlur:function(e){this.isFocused=!1,this.onBlur&&this.onBlur(e)},focus:function(){this.input.focus()},blur:function(){this.input.blur()},select:function(){this.input.select()},saveClearableInput:function(e){this.clearableInput=e},saveInput:function(e){this.input=e},setValue:function(e,a){this.stateValue!==e&&(L(this,"value")?this.$forceUpdate():this.stateValue=e,x(function(){a&&a()}))},triggerChange:function(e){this.$emit("update:value",e.target.value),this.$emit("change",e),this.$emit("input",e)},handleReset:function(e){var a=this;this.setValue("",function(){a.focus()}),P(this.input,e,this.triggerChange)},renderInput:function(e,a){var n=a.addonBefore,s=a.addonAfter,o=W(this.$props,["prefixCls","onPressEnter","addonBefore","addonAfter","prefix","suffix","allowClear","defaultValue","lazy","size","inputPrefixCls","loading"]),i=this.handleKeyDown,l=this.handleChange,u=this.handleInputFocus,p=this.handleInputBlur,c=this.size,m=this.disabled,g=this.$attrs,b=h(h(h({},o),g),{onKeydown:i,class:v(A(e,c,m),d({},g.class,g.class&&!n&&!s)),ref:this.saveInput,key:"ant-input",onInput:l,onChange:l,onFocus:u,onBlur:p});b.autofocus||delete b.autofocus;var I=f("input",b,null);return O(I,[[K]])},clearPasswordValueAttribute:function(){var e=this;this.removePasswordTimeout=setTimeout(function(){e.input&&e.input.getAttribute&&e.input.getAttribute("type")==="password"&&e.input.hasAttribute("value")&&e.input.removeAttribute("value")})},handleChange:function(e){var a=e.target,n=a.value,s=a.composing,o=a.isComposing;(o||s)&&this.lazy||this.stateValue===n||(this.setValue(n,this.clearPasswordValueAttribute),P(this.input,e,this.triggerChange))},handleKeyDown:function(e){e.keyCode===13&&this.$emit("pressEnter",e),this.$emit("keydown",e)}},render:function(){var e=this.$props.prefixCls,a=this.$data,n=a.stateValue,s=a.isFocused,o=this.configProvider.getPrefixCls,i=o("input",e),l=C(this,"addonAfter"),u=C(this,"addonBefore"),p=C(this,"suffix"),c=C(this,"prefix"),m=h(h(h({},this.$attrs),S(this)),{prefixCls:i,inputType:"input",value:U(n),element:this.renderInput(i,{addonAfter:l,addonBefore:u}),handleReset:this.handleReset,addonAfter:l,addonBefore:u,suffix:p,prefix:c,isFocused:s});return f(j,$($({},m),{},{ref:this.saveClearableInput}),null)}});export{j as C,J as I,U as f,R as i,P as r};
